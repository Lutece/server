{"version":3,"sources":["../../server/models/Task.js"],"names":["Task","_","task","type","getAllTask","Model","find","getSomeTask","otroe","createTask","create","err","key","message","updateTask","id","findByIdAndUpdate","removeTask","findByIdAndRemove"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIMA,I,WACH,0BAAS,gDAAT,C,UAGA,0BAAS,SAAT,C,UAGA,wB,UACA,uBAAM,CAACC,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAKA,wB,UACA,uBAAM,CAACD,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAKA,wB,UACA,uBAAM,CAACD,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAKA,0BAAS,EAAEC,MAAM,QAAR,EAAT,C,WACA,uBAAM,CAACF,CAAD,EAAID,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,WAYA,0BAAS,EAAEG,MAAM,QAAR,EAAT,C,WASA,0BAAS,EAAEA,MAAM,QAAR,EAAT,C,gFA/CH,MAAMH,IAAN,CAAW;AAAA;AAAA;;AAAA;AAAA;;AASTI,eAAa;AACX,WAAO,KAAKC,KAAL,CAAWC,IAAX,EAAP;AACD;;AAIDC,gBAAc;AACZ,WAAO,KAAKF,KAAL,CAAWC,IAAX,EAAP;AACD;;AAIDE,UAAQ;AACN,WAAO,KAAKH,KAAL,CAAWC,IAAX,EAAP;AACD;;AAID,QAAMG,UAAN,CAAiBR,CAAjB,EAAoB,EAAEC,IAAF,EAApB,EAA8B;AAC5B,QAAI;AACF,aAAO,MAAM,KAAKG,KAAL,CAAWK,MAAX,CAAkBR,IAAlB,CAAb;AACD,KAFD,CAEE,OAAOS,GAAP,EAAY;AACZ,aAAO,CAAC;AACNC,aAAK,GADC;AAENC,iBAAS;AAFH,OAAD,CAAP;AAID;AACF;;AAGD,QAAMC,UAAN,CAAiBb,CAAjB,EAAoB,EAAEc,EAAF,EAAMb,IAAN,EAApB,EAAkC;AAChC,QAAI;AACF,aAAO,MAAM,KAAKG,KAAL,CAAWW,iBAAX,CAA6BD,EAA7B,EAAiCb,IAAjC,EAAuC,EAAE,OAAO,IAAT,EAAvC,CAAb;AACD,KAFD,CAEE,OAAOS,GAAP,EAAY;AACZ,aAAO,IAAP;AACD;AACF;;AAGD,QAAMM,UAAN,CAAiBhB,CAAjB,EAAoB,EAAEc,EAAF,EAApB,EAA4B;AAC1B,QAAI;AACF,aAAO,MAAM,KAAKV,KAAL,CAAWa,iBAAX,CAA6BH,EAA7B,CAAb;AACD,KAFD,CAEE,OAAOJ,GAAP,EAAY;AACZ,aAAO,IAAP;AACD;AACF;AAtDQ,C;;;;;;WAKI,K;;;kBAoDA,IAAIX,IAAJ,E","file":"Task.js","sourcesContent":["import { mongoose } from '@graphite/mongoose';\nimport { property, mutation, graphQl, query, create, update, remove, allow } from '@graphite/decorators';\n\n@mongoose\n@graphQl\nclass Task {\n  @property('String | required | minlength=1 | maxlength=90')\n  nameTask;\n\n  @property('Boolean')\n  statusTask = false;\n\n  @query()\n  @allow((_, task, {}) => true)\n  getAllTask() {\n    return this.Model.find();\n  }\n\n  @query()\n  @allow((_, task, {}) => true)\n  getSomeTask() {\n    return this.Model.find();\n  }\n\n  @query()\n  @allow((_, task, {}) => true)\n  otroe() {\n    return this.Model.find();\n  }\n\n  @mutation({ type: 'create' })\n  @allow((_, Task, {}) => true)\n  async createTask(_, { task }) {\n    try {\n      return await this.Model.create(task);\n    } catch (err) {\n      return [{\n        key: '1',\n        message: 'chau'\n      }]\n    }\n  }\n\n  @mutation({ type: 'update' })\n  async updateTask(_, { id, task }) {\n    try {\n      return await this.Model.findByIdAndUpdate(id, task, { 'new': true });\n    } catch (err) {\n      return null;\n    }\n  }\n\n  @mutation({ type: 'remove' })\n  async removeTask(_, { id }) {\n    try {\n      return await this.Model.findByIdAndRemove(id);\n    } catch (err) {\n      return null;\n    }\n  }\n}\n\nexport default new Task();\n"]}