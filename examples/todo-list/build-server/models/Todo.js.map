{"version":3,"sources":["../../server/models/Todo.js"],"names":["Todo","_","todo","type","getAllTodo","Model","find","getSomeTodo","createTodo","create","err","key","message","updateTodo","id","findByIdAndUpdate","removeTodo","findByIdAndRemove"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAIMA,I,WACH,0BAAS,gDAAT,C,UAGA,0BAAS,SAAT,C,UAGA,wB,UACA,uBAAM,CAACC,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAKA,wB,UACA,uBAAM,CAACD,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAKA,0BAAS,EAAEC,MAAM,QAAR,EAAT,C,UACA,uBAAM,CAACF,CAAD,EAAIC,IAAJ,EAAU,EAAV,KAAiB,IAAvB,C,UAYA,0BAAS,EAAEC,MAAM,QAAR,EAAT,C,WASA,0BAAS,EAAEA,MAAM,QAAR,EAAT,C,gFAzCH,MAAMH,IAAN,CAAW;AAAA;AAAA;;AAAA;AAAA;;AASTI,eAAa;AACX,WAAO,KAAKC,KAAL,CAAWC,IAAX,EAAP;AACD;;AAIDC,gBAAc;AACZ,WAAO,KAAKF,KAAL,CAAWC,IAAX,EAAP;AACD;;AAID,QAAME,UAAN,CAAiBP,CAAjB,EAAoB,EAAEC,IAAF,EAApB,EAA8B;AAC5B,QAAI;AACF,aAAO,MAAM,KAAKG,KAAL,CAAWI,MAAX,CAAkBP,IAAlB,CAAb;AACD,KAFD,CAEE,OAAOQ,GAAP,EAAY;AACZ,aAAO,CAAC;AACNC,aAAK,GADC;AAENC,iBAAS;AAFH,OAAD,CAAP;AAID;AACF;;AAGD,QAAMC,UAAN,CAAiBZ,CAAjB,EAAoB,EAAEa,EAAF,EAAMZ,IAAN,EAApB,EAAkC;AAChC,QAAI;AACF,aAAO,MAAM,KAAKG,KAAL,CAAWU,iBAAX,CAA6BD,EAA7B,EAAiCZ,IAAjC,EAAuC,EAAE,OAAO,IAAT,EAAvC,CAAb;AACD,KAFD,CAEE,OAAOQ,GAAP,EAAY;AACZ,aAAO,IAAP;AACD;AACF;;AAGD,QAAMM,UAAN,CAAiBf,CAAjB,EAAoB,EAAEa,EAAF,EAApB,EAA4B;AAC1B,QAAI;AACF,aAAO,MAAM,KAAKT,KAAL,CAAWY,iBAAX,CAA6BH,EAA7B,CAAb;AACD,KAFD,CAEE,OAAOJ,GAAP,EAAY;AACZ,aAAO,IAAP;AACD;AACF;AAhDQ,C;;;;;;WAKA,K;;;kBA8CI,IAAIV,IAAJ,E","file":"Todo.js","sourcesContent":["import { mongoose } from '@graphite/mongoose';\nimport { property, mutation, graphQl, query, create, update, remove, allow } from '@graphite/decorators';\n\n@mongoose\n@graphQl\nclass Todo {\n  @property('String | required | minlength=1 | maxlength=90')\n  name;\n\n  @property('Boolean')\n  status = false;\n\n  @query()\n  @allow((_, todo, {}) => true)\n  getAllTodo() {\n    return this.Model.find();\n  }\n\n  @query()\n  @allow((_, todo, {}) => true)\n  getSomeTodo() {\n    return this.Model.find();\n  }\n\n  @mutation({ type: 'create' })\n  @allow((_, todo, {}) => true)\n  async createTodo(_, { todo }) {\n    try {\n      return await this.Model.create(todo);\n    } catch (err) {\n      return [{\n        key: '1',\n        message: 'create'\n      }]\n    }\n  }\n\n  @mutation({ type: 'update' })\n  async updateTodo(_, { id, todo }) {\n    try {\n      return await this.Model.findByIdAndUpdate(id, todo, { 'new': true });\n    } catch (err) {\n      return null;\n    }\n  }\n\n  @mutation({ type: 'remove' })\n  async removeTodo(_, { id }) {\n    try {\n      return await this.Model.findByIdAndRemove(id);\n    } catch (err) {\n      return null;\n    }\n  }\n}\n\nexport default new Todo();\n"]}